{% extends "layout.html" %}
{% from "show_links.html" import show_links %}

{% block nav %}
{{ show_links(user) }}
{% endblock %}

{% block content %}



<form method="POST" action="">
    {{ form.hidden_tag() }}
    {{ form.csrf_token }}

  <div div class="col-lg-12">
    <div class = "row">
      <div class = "col">
        <h5>You are editing the tech scout of: {{ scout['tech_name']}} </h5>
          <p><small><font color="grey">Latest scout/edit by {{ scout['username'] }} at {{ scout['scout_time_dt'] }}</font></small></p>
      </div>

      <div class= "col">
          {{ form.submit(class="btn btn-outline-info mt-2 pull-right")}}
      </div>

    </div>








                    <div class="content-section">
                        <div class="form-group">
                                <b>{{ form.tech_name.label(class="form-control-label") }}</b>
                                <hr></hr>
                                {% if user['admin'] == 1 %}
                                  <p><small><font color="grey">NOTE: Only admin users like you can edit tech names. So please be cautious.</font></small></p>
                                    <p><small><font color="grey">{{ scout['tech_name'] }}</font></small></p>

                                    {% if form.tech_name.errors %}
                                        {{ form.tech_name(class="form-control form-control-lg is-invalid") }}
                                        <div class="invalid-feedback">
                                            {% for error in form.tech_name.errors %}
                                                <span>{{ error }}</span>
                                            {% endfor %}
                                        </div>
                                    {% else %}
                                        {{ form.tech_name(class="form-control form-control-lg") }}
                                    {% endif %}
                                {% endif %}
                        </div>

                        <div class="form-group">
                                <b>{{ form.associate_names.label(class="form-control-label") }}</b>
                                <p><small><font color="grey">{{ scout['asso_names']}}</font></small></p>
                                {% if form.associate_names.errors %}
                                    {{ form.associate_names(class="form-control form-control-lg is-invalid") }}
                                    <div class="invalid-feedback">
                                        {% for error in form.associate_names.errors %}
                                            <span>{{ error }}</span>
                                        {% endfor %}
                                    </div>
                                {% else %}
                                    {{ form.associate_names(class="form-control form-control-lg") }}
                                {% endif %}
                        </div>

                        <div class="form-group">
                                <b>{{ form.wikilink.label(class="form-control-label") }}</b>
                                <p><small><font color="grey">{% if scout['wiki_link'] %}{{ scout['wiki_link'] }} {% else %} NA {% endif %}</font></small></p>
                                {% if form.wikilink.errors %}
                                    {{ form.wikilink(class="form-control form-control-lg is-invalid") }}
                                    <div class="invalid-feedback">
                                        {% for error in form.wikilink.errors %}
                                            <span>{{ error }}</span>
                                        {% endfor %}
                                    </div>
                                {% else %}
                                    {{ form.wikilink(class="form-control form-control-lg") }}
                                {% endif %}
                        </div>

                        <div class="form-group">
                                <b>{{ form.category.label(class="form-control-label") }}</b>
                                <p><small><font color="grey">{{ scout['category'] }}</font></small></p>
                                {% if form.category.errors %}
                                    {{ form.category(class="form-control form-control-lg is-invalid") }}
                                    <div class="invalid-feedback">
                                        {% for error in form.category.errors %}
                                            <span>{{ error }}</span>
                                        {% endfor %}
                                    </div>
                                {% else %}
                                    {{ form.category(class="form-control form-control-lg") }}
                                {% endif %}
                        </div>


                        <div class="form-group">
                                <b>{{ form.description.label(class="form-control-label") }}</b>
                                <p><small><font color="grey">{{ scout['description'] }}</font></small></p>
                                    {% if form.description.errors %}
                                        {{ form.description(class="form-control form-control-lg is-invalid") }}
                                        <div class="invalid-feedback">
                                            {% for error in form.description.errors %}
                                                <span>{{ error }}</span>
                                            {% endfor %}
                                        </div>
                                    {% else %}
                                        {{ form.description(class="form-control form-control-lg") }}
                                    {% endif %}
                        </div>

                        <div class="form-group">
                                <b>{{ form.embed_tech.label(class="form-control-label") }}</b>
                                <p><small><font color="grey">{{ scout['emb_techs'] }}</font></small></p>
                                {% if form.embed_tech.errors %}
                                    {{ form.embed_tech(class="form-control form-control-lg is-invalid") }}
                                    <div class="invalid-feedback">
                                        {% for error in form.embed_tech.errors %}
                                            <span>{{ error }}</span>
                                        {% endfor %}
                                    </div>
                                {% else %}
                                    {{ form.embed_tech(class="form-control form-control-lg") }}
                                {% endif %}
                        </div>

                        <div class="form-group">
                                <b>{{ form.impact.label(class="form-control-label") }}</b>
                                <p><small><font color="grey">{{ scout['impact']}}</font></small></p>
                                {% if form.impact.errors %}
                                    {{ form.impact(class="form-control form-control-lg is-invalid") }}
                                    <div class="invalid-feedback">
                                        {% for error in form.impact.errors %}
                                            <span>{{ error }}</span>
                                        {% endfor %}
                                    </div>
                                {% else %}
                                    {{ form.impact(class="form-control form-control-lg") }}
                                {% endif %}
                        </div>

                        <div>
                            <p><b>Impact Sectors*</b></p>
                            <hr></hr>
                            {% for sec in selected_sec  %}

                              <p><small><font color="grey">{{ sec['sector'] }}</font></small></p>
                            {% endfor %}
                            <hr></hr>
                            {% for s in sectors %}
                              <p><small>{{ s['sector'] }}<input type="checkbox" value="{{ s['sec_id'] }}" name="mycheckbox"></small></p>
                            {% endfor %}
                            <br></br>
                        </div>


                        <div class="form-group">
                                <b>{{ form.sources.label(class="form-control-label") }}</b>
                                <p><small><font color="grey">{{ scout['desc_source']}}</font></small></p>
                                {% if form.sources.errors %}
                                    {{ form.sources(class="form-control form-control-lg is-invalid") }}
                                    <div class="invalid-feedback">
                                        {% for error in form.sources.errors %}
                                            <span>{{ error }}</span>
                                        {% endfor %}
                                    </div>
                                {% else %}
                                    {{ form.sources(class="form-control form-control-lg") }}
                                {% endif %}
                        </div>
                    </div>

</form>
{% endblock content %}
